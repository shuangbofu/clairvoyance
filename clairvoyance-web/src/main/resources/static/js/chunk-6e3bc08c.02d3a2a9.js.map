{"version":3,"sources":["webpack:///./src/pages/worksheet/detail/index.vue?3ae1","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/pages/components/preview.vue?81c3","webpack:///src/pages/components/preview.vue","webpack:///./src/pages/components/preview.vue?59e7","webpack:///./src/pages/components/preview.vue?be2f","webpack:///./src/pages/components/catalogue.vue?1c43","webpack:///src/pages/components/catalogue.vue","webpack:///./src/pages/components/catalogue.vue?cc0a","webpack:///./src/pages/components/catalogue.vue?debf","webpack:///./src/pages/components/catalogue.vue?882f","webpack:///./src/pages/worksheet/index.vue?04b8","webpack:///./src/pages/worksheet/detail/index.vue?b1b5","webpack:///./src/pages/worksheet/detail/fieldList.vue?d4cb","webpack:///src/pages/worksheet/detail/fieldList.vue","webpack:///./src/pages/worksheet/detail/fieldList.vue?f6bf","webpack:///./src/pages/worksheet/detail/fieldList.vue","webpack:///src/pages/worksheet/detail/index.vue","webpack:///./src/pages/worksheet/detail/index.vue?39eb","webpack:///./src/pages/worksheet/detail/index.vue?7908","webpack:///src/pages/worksheet/index.vue","webpack:///./src/pages/worksheet/index.vue?9e1c","webpack:///./src/pages/worksheet/index.vue","webpack:///./src/pages/components/preview.vue?cf89"],"names":["redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","sheetData","length","total","style","attrs","columns","x","y","_e","staticRenderFns","props","data","previewCondition","fields","sql","wheres","whereType","linker","order","desc","computed","forEach","now","map","key","workSheet","width","dataIndex","i","title","c","created","fetchData","methods","$axios","component","span","staticStyle","model","value","callback","$$v","filterValue","expression","slot","on","handleMenuClick","treeData","filteredTreeData","defaultExpandedKeys","defaultSelectedKeys","expandNode","selectNode","$event","scopedSlots","_u","fn","ref","expanded","folder","item","remarks","tableName","description","treeIcon","_t","menuKey","visible","confirmLoading","handleOk","form","parentId","_b","labelCol","wrapperCol","maxHeight","overflow","selectedTreeData","$set","setLocal","localStorage","setItem","JSON","stringify","getLocal","parse","getItem","selectTreeNode","nodes","nodesAfterFilter","isLeaf","includes","res","push","line","children","dashboard","dashboardLoading","init","components","selectedKeysLocalKey","expandedKeysLocalKey","selectedRefIdKey","get","selectedRefId","selectedKeys","node","dataRef","refId","selected","chooseDashboard","expandedKeys","e","$emit","id","loaded","url","$message","error","convert2Node","selectable","chooseWorkSheet","chooseTab","fieldsData","filter","tabKey","FieldList","Preview","Catalogue","WorkSheetDetail"],"mappings":"gHAAA,yBAAwjB,EAAG,G,oCCC3jB,IAAIA,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAQ,EAAQ,QAChBC,EAAQ,EAAQ,QAEhBC,EAAY,WACZC,EAAkBC,OAAOC,UACzBC,EAAiBH,EAAgBD,GAEjCK,EAAcP,GAAM,WAAc,MAA2D,QAApDM,EAAeE,KAAK,CAAEC,OAAQ,IAAKR,MAAO,SAEnFS,EAAiBJ,EAAeK,MAAQT,GAIxCK,GAAeG,IACjBZ,EAASM,OAAOC,UAAWH,GAAW,WACpC,IAAIU,EAAIb,EAASc,MACbC,EAAIC,OAAOH,EAAEH,QACbO,EAAKJ,EAAEX,MACPgB,EAAIF,YAAcG,IAAPF,GAAoBJ,aAAaR,UAAY,UAAWD,GAAmBF,EAAMO,KAAKI,GAAKI,GAC1G,MAAO,IAAMF,EAAI,IAAMG,IACtB,CAAEE,QAAQ,K,kCCvBf,IAAIC,EAAS,WAAa,IAAIC,EAAIR,KAASS,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAQD,EAAa,UAAEG,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACL,EAAIM,GAAG,UAAUH,EAAG,OAAO,CAACE,YAAY,SAAS,CAACL,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,UAAUC,WAAWT,EAAIM,GAAG,WAAWH,EAAG,OAAO,CAACE,YAAY,SAAS,CAACL,EAAIM,GAAGN,EAAIO,GAAGP,EAAIU,UAAUV,EAAIM,GAAG,UAAUH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,UAAU,CAACQ,MAAM,CAAG,aAAc,aAAeC,MAAM,CAAC,eAAe,OAAO,KAAO,QAAQ,OAAS,QAAQ,YAAa,EAAM,cAAcZ,EAAIQ,UAAU,QAAUR,EAAIa,QAAQ,OAAS,CAACC,EAAG,KAAMC,EAAG,SAAS,KAAKf,EAAIgB,MACtnBC,EAAkB,GCsBtB,G,sEAAA,CACEC,MAAO,CAAC,aACRC,KAFF,WAGI,MAAO,CACLC,iBAAkB,CAChBC,OAAQ,GACRC,IAAK,GACLC,OAAQ,GACRC,UAAW,YACXC,OAAQ,MACRC,MAAO,CACLpC,KAAM,GACNqC,MAAM,IAGVnB,UAAW,KACXE,MAAO,IAIXkB,SAAU,CACRf,QADJ,WAEM,IAAN,iBACA,KAaM,OAZAM,EAAKU,SAAQ,SAAnB,GACQ,IAAK,IAAb,QACU,IAAV,4BACA,aACsBhC,IAARiC,GAAqBA,EAAMrB,KAC7BsB,EAAIC,GAAOvB,OAIjBjB,KAAKyC,UAAUZ,OAAOQ,SAAQ,SAApC,GACQjC,EAAEsC,MAAsB,GAAdH,EAAInC,EAAEN,MAAa,MAExBE,KAAKyC,UAAUZ,OAC5B,oDACA,iBACQ,IAAR,GACUc,UAAWC,EAAE9C,KACb+C,MAAOD,EAAEC,MACTH,MAAOE,EAAEF,OAKX,OAAOI,OAIbC,QAnDF,WAoDI/C,KAAKgD,aAEPC,QAAS,CACPD,UADJ,WACA,WACMhD,KAAKkD,OACX,KADA,6BACA,mDACQ,QAAR,MAEA,kBACQ,EAAR,iBACQ,EAAR,qBCrFgW,I,wBCQ5VC,EAAY,eACd,EACA5C,EACAkB,GACA,EACA,KACA,KACA,MAIa,OAAA0B,E,sECnBf,IAAI5C,EAAS,WAAa,IAAIC,EAAIR,KAASS,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACS,MAAM,CAAC,KAAO,OAAO,QAAU,SAAS,MAAQ,MAAM,OAAS,KAAK,CAACT,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,CAACgC,KAAM,GAAG,GAAK,CAACA,KAAM,GAAG,IAAM,CAACA,KAAM,KAAK,CAACzC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAAC0C,YAAY,CAAC,QAAU,OAAO,kBAAkB,kBAAkB,CAAC1C,EAAG,UAAU,CAACS,MAAM,CAAC,YAAc,KAAK,KAAO,kBAAkBkC,MAAM,CAACC,MAAO/C,EAAe,YAAEgD,SAAS,SAAUC,GAAMjD,EAAIkD,YAAYD,GAAKE,WAAW,gBAAgB,CAAChD,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,SAAS,KAAO,UAAUwC,KAAK,YAAY,GAAGjD,EAAG,aAAa,CAACS,MAAM,CAAC,QAAU,CAAC,WAAW,CAACT,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,WAAWyC,GAAG,CAAC,MAAQrD,EAAIsD,iBAAiBF,KAAK,WAAW,CAACjD,EAAG,cAAc,CAAC6B,IAAI,OAAO,CAAC7B,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,YAAYZ,EAAIM,GAAG,WAAW,GAAGH,EAAG,cAAc,CAAC6B,IAAI,OAAO,CAAC7B,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,eAAeZ,EAAIM,GAAG,WAAW,IAAI,GAAGH,EAAG,MAAM,CAACA,EAAG,WAAW,CAAC0C,YAAY,CAAC,cAAc,MAAM,MAAQ,OAAO,YAAY,QAAQjC,MAAM,CAAC,KAAO,OAAO,KAAO,WAAW,IAAI,IAAI,GAAGT,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAAEL,EAAIuD,SAAS9C,OAAS,EAAGN,EAAG,SAAS,CAACS,MAAM,CAAC,YAAY,GAAG,YAAYZ,EAAIwD,iBAAiB,aAAexD,EAAIyD,oBAAoB,aAAezD,EAAI0D,qBAAqBL,GAAG,CAAC,OAASrD,EAAI2D,WAAW,OAAS3D,EAAI4D,WAAW,sBAAsB,SAASC,GAAQ7D,EAAIyD,oBAAoBI,GAAQ,uBAAuB,SAASA,GAAQ7D,EAAIyD,oBAAoBI,GAAQ,sBAAsB,SAASA,GAAQ7D,EAAI0D,oBAAoBG,GAAQ,uBAAuB,SAASA,GAAQ7D,EAAI0D,oBAAoBG,IAASC,YAAY9D,EAAI+D,GAAG,CAAC,CAAC/B,IAAI,SAASgC,GAAG,SAASC,GACzrD,IAAIC,EAAWD,EAAIC,SACnB,MAAO,CAAC/D,EAAG,SAAS,CAACE,YAAY,YAAYO,MAAM,CAAC,MAAQ,WAAW,KAAOsD,EAAW,cAAe,eAAe,CAAClC,IAAI,QAAQgC,GAAG,SAAS7C,GAAM,MAAO,CAAGA,EAAKgD,OAE8O,CAACnE,EAAIM,GAAGN,EAAIO,GAAGY,EAAKkB,SAF1PlC,EAAG,YAAY,CAACS,MAAM,CAAC,iBAAmB,UAAU,UAAY,QAAQ,aAAe,CACtP,WAAc,UACZ,CAACT,EAAG,WAAW,CAACiD,KAAK,SAAS,CAAe,cAAbpD,EAAIoE,KAAsB,CAACjE,EAAG,MAAM,CAACH,EAAIM,GAAG,MAAMN,EAAIO,GAAGY,EAAKkB,UAAUlC,EAAG,MAAM,CAACH,EAAIM,GAAG,MAAMN,EAAIO,GAAGY,EAAKkD,aAAarE,EAAIgB,KAAmB,cAAbhB,EAAIoE,KAAsB,CAACjE,EAAG,MAAM,CAACH,EAAIM,GAAG,MAAMN,EAAIO,GAAGY,EAAKkB,UAAUlC,EAAG,MAAM,CAACH,EAAIM,GAAG,MAAMN,EAAIO,GAAGY,EAAKmD,cAAcnE,EAAG,MAAM,CAACH,EAAIM,GAAG,MAAMN,EAAIO,GAAGY,EAAKoD,iBAAiBvE,EAAIgB,MAAM,GAAGhB,EAAIM,GAAG,IAAIN,EAAIO,GAAGY,EAAKkB,OAAO,MAAM,OAAoC,MAAK,EAAM,aAAa,CAAClC,EAAG,SAAS,CAACE,YAAY,YAAYO,MAAM,CAAC,KAAOZ,EAAIoE,KAAK,MAAQ,WAAW,KAAOpE,EAAIwE,UAAUpB,KAAKpD,EAAIoE,QAAQ,GAAGpE,EAAIgB,MAAM,OAAOb,EAAG,QAAQ,CAACS,MAAM,CAAC,GAAK,CAACgC,KAAM,IAAI,GAAK,CAACA,KAAM,IAAI,IAAM,CAACA,KAAM,MAAM,CAACzC,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAAEL,EAAoB,iBAAEG,EAAG,SAAS,CAACE,YAAY,OAAOO,MAAM,CAAC,IAAM,cAAc,CAACZ,EAAIyE,GAAG,qBAAqB,MAAM,GAAGtE,EAAG,UAAU,CAACS,MAAM,CAAC,MAAS,KAAOZ,EAAI0E,QAAS,QAAU1E,EAAI2E,QAAQ,kBAAkB3E,EAAI4E,eAAe,gBAAiB,GAAMvB,GAAG,CAAC,GAAKrD,EAAI6E,SAAS,OAAS,WAAa7E,EAAI2E,SAAU,EAAO3E,EAAI8E,KAAO,CAACC,SAAU,OAAQ,CAAC5E,EAAG,eAAeH,EAAIgF,GAAG,CAAClC,MAAM,CAACC,MAAO/C,EAAQ,KAAEgD,SAAS,SAAUC,GAAMjD,EAAI8E,KAAK7B,GAAKE,WAAW,SAAS,eAAe,CACzpC8B,SAAU,CAAErC,KAAM,GAClBsC,WAAY,CAAEtC,KAAM,MACpB,GAAO,CAACzC,EAAG,oBAAoB,CAACS,MAAM,CAAC,MAAQ,UAAU,CAACT,EAAG,gBAAgB,CAAC0C,YAAY,CAAC,MAAQ,QAAQjC,MAAM,CAAC,iBAAiB,CAAEuE,UAAW,QAASC,SAAU,QAAS,YAAYpF,EAAIqF,iBAAiB,0BAA0B,IAAIvC,MAAM,CAACC,MAAO/C,EAAI8E,KAAa,SAAE9B,SAAS,SAAUC,GAAMjD,EAAIsF,KAAKtF,EAAI8E,KAAM,WAAY7B,IAAME,WAAW,oBAAoB,GAAGhD,EAAG,oBAAoB,CAACS,MAAM,CAAC,MAASZ,EAAI0E,QAAU,OAAQ,CAACvE,EAAG,UAAU,CAAC2C,MAAM,CAACC,MAAO/C,EAAI8E,KAAS,KAAE9B,SAAS,SAAUC,GAAMjD,EAAIsF,KAAKtF,EAAI8E,KAAM,OAAQ7B,IAAME,WAAW,gBAAgB,GAAmB,OAAfnD,EAAI0E,QAAkBvE,EAAG,oBAAoB,CAACS,MAAM,CAAC,MAASZ,EAAI0E,QAAU,OAAQ,CAACvE,EAAG,UAAU,CAACS,MAAM,CAAC,KAAO,YAAYkC,MAAM,CAACC,MAAO/C,EAAI8E,KAAY,QAAE9B,SAAS,SAAUC,GAAMjD,EAAIsF,KAAKtF,EAAI8E,KAAM,UAAW7B,IAAME,WAAW,mBAAmB,GAAGnD,EAAIgB,MAAM,IAAI,IAAI,IAC9zBC,EAAkB,G,oFC8GtB,SAASsE,EAASvD,EAAKe,GACrByC,aAAaC,QAAQzD,EAAK0D,KAAKC,UAAU5C,IAG3C,SAAS6C,EAAS5D,GAChB,OAAO0D,KAAKG,MAAML,aAAaM,QAAQ9D,IAqBzC,SAAS+D,EAAeC,GACtB,OAAOA,EACT,oBAAI,OAAJ,YACA,iBACI,OAAJ,iCACA,GADA,IAEM,YAAN,EACM,SAAN,mBAKA,SAASC,EAAiBD,EAAOjD,GAC/B,IAAF,KAaE,OAZAiD,EAAMnE,SAAQ,SAAhB,GACI,GAAIO,EAAE8D,OACA9D,EAAEC,MAAM8D,SAASpD,IACnBqD,EAAIC,KAAKjE,OAEjB,CACM,IAAN,qEACUkE,EAAKC,SAAS9F,OAAS,GACzB2F,EAAIC,KAAKC,OAIRF,EAGT,OACElF,MAAO,CAAC,QACRC,KAFF,WAGI,MAAO,CACLoC,SAAU,GACVE,oBAAqB,GACrBC,oBAAqB,GACrBR,YAAa,GACbyB,SAAS,EACTC,gBAAgB,EAChBF,QAAS,GACTI,KAAM,CACJC,SAAU,IAEZyB,UAAW,GACXC,kBAAkB,IAGtBlE,QAlBF,WAmBI/C,KAAKkH,QAEPC,WAAY,GACZ/E,SAAU,CACRgF,qBADJ,WAEM,MAAO,GAAb,mCAEIC,qBAJJ,WAKM,MAAO,GAAb,mCAEIC,iBAPJ,WAQM,MAAO,GAAb,6BAEItD,iBAVJ,WAWM,OAAOyC,EAAiBzG,KAAK+D,SAAU/D,KAAK0D,cAE9CmC,iBAbJ,WAcM,OAAOU,EAAevG,KAAK+D,WAE7BiB,SAhBJ,WAiBM,MAAkB,cAAdhF,KAAK4E,KACA,QAEF5E,KAAK4E,OAGhB3B,QAAS,CACPiE,KADJ,WACA,WACMlH,KAAKkE,oBAAsBkC,EAASpG,KAAKoH,sBACzCpH,KAAKiE,oBAAsBmC,EAASpG,KAAKqH,sBACzC,IAAN,2BACMrH,KAAKkD,OAAOqE,IAAI,IAAtB,kDACQ,IAAR,GACA,CACU,KAAV,MACU,GAAV,EACU,MAAV,EACU,QAAV,EACU,SAAV,IAGA,iDACQ,EAAR,WAC6B,MAAjBC,EACF,EAAV,mBAEU,EAAV,wBAIIpD,WAxBJ,SAwBA,EAxBA,GAwBA,aAEM2B,EAAS/F,KAAKoH,qBAAsBK,GACpCzH,KAAKyH,aAAeA,EACfC,EAAKC,QAAQhD,SAChBoB,EAAS/F,KAAKsH,iBAAkBI,EAAKC,QAAQC,OACxCF,EAAKG,UACR7H,KAAK8H,gBAAgBJ,EAAKC,QAAQC,SAIxCzD,WAnCJ,SAmCA,GACM4B,EAAS/F,KAAKqH,qBAAsBU,IAEtCjE,gBAtCJ,SAsCA,GACM9D,KAAKkF,QAAU8C,EAAExF,IACjBxC,KAAKmF,SAAU,GAEjB2C,gBA1CJ,SA0CA,GACM9H,KAAKiH,kBAAmB,EACxBjH,KAAKiI,MAAM,SAAUC,IAEvBC,OA9CJ,WA+CMnI,KAAKiH,kBAAmB,GAE1B5B,SAjDJ,WAiDA,WACM,GAA2B,KAAvBrF,KAAKsF,KAAKC,SAAd,CAIA,IAAN,wBAC2B,QAAjBvF,KAAKkF,UACPkD,GAAO,WAETpI,KAAKoF,gBAAiB,EACtBpF,KAAKkD,OACX,kBACA,kBACA,IACU,EAAV,kBACU,EAAV,+CACU,EAAV,WAEA,oBACY,EAAZ,mDACY,EAAZ,mCAEU,EAAV,0DACU,EAAV,8CAGU,EAAV,WAGA,mBACQ,QAAR,OACQ,EAAR,0BA7BQlD,KAAKqI,SAASC,MAAM,eAgCxBC,aAnFJ,SAmFA,cACA,iCACQ1F,MAAOlB,EAAK7B,MACpB,GAFA,IAGQ0C,IAAK,QAAUb,EAAKuG,GACpB3E,MAAO5B,EAAKuG,GACZxB,QAAS/E,EAAKgD,QAAmC,IAAzBhD,EAAKoF,SAAS9F,OACtC8F,SAAUpF,EAAKoF,SAASxE,KAAI,SAApC,+BACQiG,YAAa7G,EAAKgD,SAOpB,OALKhD,EAAKgD,OAGRiC,EAAItC,YAAc,CAA1B,6BAFQsC,EAAItC,YAAc,CAA1B,8BAIasC,KC5TqV,I,wBCQ9VzD,EAAY,eACd,EACA5C,EACAkB,GACA,EACA,KACA,KACA,MAIa,OAAA0B,E,6CCnBf,yBAAuiB,EAAG,G,yCCA1iB,IAAI5C,EAAS,WAAa,IAAIC,EAAIR,KAASS,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAAC8D,IAAI,SAASrD,MAAM,CAAC,KAAO,aAAayC,GAAG,CAAC,OAASrD,EAAIiI,kBAAkB,CAAC9H,EAAG,WAAW,CAACiD,KAAK,mBAAmB,CAAEpD,EAAa,UAAEG,EAAG,oBAAoB,CAACS,MAAM,CAAC,KAAOZ,EAAIiC,aAAajC,EAAIgB,MAAM,IAAI,IAAI,IACnUC,EAAkB,G,YCDlB,EAAS,WAAa,IAAIjB,EAAIR,KAASS,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACL,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAImB,KAAKkB,OAAO,KAAKlC,EAAG,MAAM,CAACE,YAAY,eAAe,CAACL,EAAIM,GAAGN,EAAIO,GAAGP,EAAImB,KAAKoD,aAAe,oBAAoBpE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,cAAc,CAACZ,EAAIM,GAAG,UAAUH,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,eAAe,CAACZ,EAAIM,GAAG,UAAUH,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,cAAc,CAACZ,EAAIM,GAAG,WAAW,KAAKH,EAAG,SAAS,CAACE,YAAY,OAAOO,MAAM,CAAC,qBAAqB,KAAKyC,GAAG,CAAC,OAASrD,EAAIkI,YAAY,CAAC/H,EAAG,aAAa,CAAC6B,IAAI,IAAIpB,MAAM,CAAC,IAAM,SAAS,CAACT,EAAG,UAAU,CAACS,MAAM,CAAC,aAAaZ,EAAImB,SAAS,GAAGhB,EAAG,aAAa,CAAC6B,IAAI,IAAIpB,MAAM,CAAC,IAAM,OAAO,eAAe,KAAK,CAACT,EAAG,aAAa,CAACS,MAAM,CAAC,KAAOZ,EAAImB,KAAKE,WAAW,IAAI,IAAI,IACv4B,EAAkB,G,YCDlB,EAAS,WAAa,IAAIrB,EAAIR,KAASS,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACS,MAAM,CAAC,YAAa,EAAM,KAAO,QAAQ,cAAcZ,EAAImI,WAAW,QAAUnI,EAAIa,YAAY,IACpN,EAAkB,GCMtB,G,UAAA,CACA,CACE,MAAF,KACE,UAAF,SAEA,CACE,MAAF,OACE,UAAF,QAEA,CACE,MAAF,OACE,UAAF,SAEA,CACE,MAAF,OACE,UAAF,OACE,YAAF,CAAI,aAAJ,SAEA,CACE,MAAF,OACE,UAAF,aAGA,GACEK,MAAO,CAAC,QACRC,KAFF,WAGI,MAAO,CACLN,QAAN,IAGEe,SAAU,CACRuG,WADJ,WAEM,OAAO3I,KAAK2B,KAAKiH,QAAO,SAA9B,sCCvCiX,I,YCO7WzF,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCSf,GACEzB,MAAO,CAAC,QACRC,KAFF,WAGI,MAAO,CACLkH,OAAQ,IAGZ1B,WAAY,CACV2B,UAAJ,EACIC,QAAJ,QAEE9F,QAAS,CACPyF,UADJ,eCtC6W,ICQzW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCNf,GACE/G,KADF,WAEI,MAAO,CACLc,UAAW,OAGf0E,WAAY,CACV6B,UAAJ,OACIC,gBAAJ,GAEEhG,QAAS,CACPwF,gBADJ,SACA,cACMzI,KAAKkD,OAAOqE,IAAI,iBAAtB,6BACQ,EAAR,YACQ,EAAR,4BC3B8V,ICO1V,EAAY,eACd,EACAhH,EACAkB,GACA,EACA,KACA,KACA,MAIa,e,yFClBf,yBAAqiB,EAAG","file":"js/chunk-6e3bc08c.02d3a2a9.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.sheetData)?_c('div',{staticClass:\"preview-container\"},[_c('div',{staticClass:\"top\"},[_vm._v(\" 显示最新 \"),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.sheetData.length))]),_vm._v(\"条数据，总共 \"),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.total))]),_vm._v(\"条数据 \")]),_c('div',{staticClass:\"data-container\"},[_c('a-table',{style:({ 'word-break': 'break-all' }),attrs:{\"table-layout\":\"auto\",\"size\":\"small\",\"rowKey\":\"index\",\"pagination\":false,\"data-source\":_vm.sheetData,\"columns\":_vm.columns,\"scroll\":{x: 1600, y: 500}}})],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"sheetData\" class=\"preview-container\">\n    <div class=\"top\">\n      显示最新\n      <span class=\"value\">{{sheetData.length}}</span>条数据，总共\n      <span class=\"value\">{{total}}</span>条数据\n    </div>\n    <div class=\"data-container\">\n      <a-table\n        table-layout=\"auto\"\n        :style=\"{ 'word-break': 'break-all' }\"\n        size=\"small\"\n        rowKey=\"index\"\n        :pagination=\"false\"\n        :data-source=\"sheetData\"\n        :columns=\"columns\"\n        :scroll=\"{x: 1600, y: 500}\"\n      ></a-table>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"workSheet\"],\n  data() {\n    return {\n      previewCondition: {\n        fields: [],\n        sql: \"\",\n        wheres: [],\n        whereType: \"condition\",\n        linker: \"and\",\n        order: {\n          name: \"\",\n          desc: true\n        }\n      },\n      sheetData: null,\n      total: 0\n      // tableWidth: 0\n    };\n  },\n  computed: {\n    columns() {\n      const data = this.sheetData;\n      let map = {};\n      data.forEach(line => {\n        for (let key in line) {\n          const length = line[key].toString().length || 0;\n          const now = map[key];\n          if (now === undefined || now < length) {\n            map[key] = length;\n          }\n        }\n      });\n      this.workSheet.fields.forEach(f => {\n        f.width = map[f.name] * 10 + 20;\n      });\n      return this.workSheet.fields\n      .filter(i=>i.fieldType === 'origin')\n      .map(i => {\n        let c = {\n          dataIndex: i.name,\n          title: i.title,\n          width: i.width\n        };\n        // if (index !== this.workSheet.fields.length - 1) {\n        //   c.width = i.width;\n        // }\n        return c;\n      });\n    }\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      this.$axios\n        .post(`/workSheet/preview/${this.workSheet.workSheetId}`, this.previewCondition,{\n          timeout: 10000000\n        })\n        .then(data => {\n          this.sheetData = data.data;\n          this.total = data.total\n          // let tableWidth = 0;\n          // let map = {};\n          // data.data.forEach(line => {\n          //   for (let key in line) {\n          //     const length = line[key].toString().length || 0;\n          //     const now = map[key];\n          //     if (now === undefined || now < length) {\n          //       map[key] = length;\n          //       tableWidth = tableWidth + (length - (now || 0)) * 10 + 20;\n          //     }\n          //   }\n          // });\n          // this.tableWidth = tableWidth;\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.preview-container {\n  .top {\n    font-size: 13px;\n    color: #666;\n    margin-bottom: 10px;\n    .value {\n      color: #4876ff;\n      margin: 0 4px;\n    }\n  }\n  .data-continer {\n    .ant-table td {\n      white-space: nowrap;\n    }\n  }\n  td,\n  th {\n    white-space: nowrap;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./preview.vue?vue&type=template&id=30e31cca&\"\nimport script from \"./preview.vue?vue&type=script&lang=js&\"\nexport * from \"./preview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./preview.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard-container\"},[_c('a-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"top\",\"gutter\":16}},[_c('a-col',{attrs:{\"xs\":{span: 7},\"xl\":{span: 5},\"xxl\":{span: 5}}},[_c('div',{staticClass:\"catalogue-container\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('a-input',{attrs:{\"placeholder\":\"过滤\",\"icon\":\"FilterOutlined\"},model:{value:(_vm.filterValue),callback:function ($$v) {_vm.filterValue=$$v},expression:\"filterValue\"}},[_c('a-icon',{attrs:{\"slot\":\"suffix\",\"type\":\"filter\"},slot:\"suffix\"})],1),_c('a-dropdown',{attrs:{\"trigger\":['click']}},[_c('a-menu',{attrs:{\"slot\":\"overlay\"},on:{\"click\":_vm.handleMenuClick},slot:\"overlay\"},[_c('a-menu-item',{key:\"文件夹\"},[_c('a-icon',{attrs:{\"type\":\"folder\"}}),_vm._v(\"创建文件夹 \")],1),_c('a-menu-item',{key:\"仪表盘\"},[_c('a-icon',{attrs:{\"type\":\"dashboard\"}}),_vm._v(\"创建仪表盘 \")],1)],1),_c('div',[_c('a-button',{staticStyle:{\"margin-left\":\"5px\",\"color\":\"#666\",\"font-size\":\"16px\"},attrs:{\"type\":\"link\",\"icon\":\"plus\"}})],1)],1)],1),_c('div',{staticClass:\"catalogue-tree\"},[(_vm.treeData.length > 0)?_c('a-tree',{attrs:{\"show-icon\":\"\",\"tree-data\":_vm.filteredTreeData,\"expandedKeys\":_vm.defaultExpandedKeys,\"selectedKeys\":_vm.defaultSelectedKeys},on:{\"expand\":_vm.expandNode,\"select\":_vm.selectNode,\"update:expandedKeys\":function($event){_vm.defaultExpandedKeys=$event},\"update:expanded-keys\":function($event){_vm.defaultExpandedKeys=$event},\"update:selectedKeys\":function($event){_vm.defaultSelectedKeys=$event},\"update:selected-keys\":function($event){_vm.defaultSelectedKeys=$event}},scopedSlots:_vm._u([{key:\"folder\",fn:function(ref){\nvar expanded = ref.expanded;\nreturn [_c('a-icon',{staticClass:\"tree-icon\",attrs:{\"theme\":\"outlined\",\"type\":expanded ? 'folder-open': 'folder'}})]}},{key:\"title\",fn:function(data){return [(!data.folder)?_c('a-tooltip',{attrs:{\"overlayClassName\":\"tooltip\",\"placement\":\"right\",\"overlayStyle\":{\n              'background': '#fff'\n            }}},[_c('template',{slot:\"title\"},[(_vm.item === 'dashboard')?[_c('div',[_vm._v(\"名称：\"+_vm._s(data.title))]),_c('div',[_vm._v(\"备注：\"+_vm._s(data.remarks))])]:_vm._e(),(_vm.item === 'workSheet')?[_c('div',[_vm._v(\"名称：\"+_vm._s(data.title))]),_c('div',[_vm._v(\"原名：\"+_vm._s(data.tableName))]),_c('div',[_vm._v(\"描述：\"+_vm._s(data.description))])]:_vm._e()],2),_vm._v(\" \"+_vm._s(data.title)+\" \")],2):[_vm._v(_vm._s(data.title))]]}}],null,false,2447245915)},[_c('a-icon',{staticClass:\"tree-icon\",attrs:{\"slot\":_vm.item,\"theme\":\"outlined\",\"type\":_vm.treeIcon},slot:_vm.item})],1):_vm._e()],1)])]),_c('a-col',{attrs:{\"xs\":{span: 17},\"xl\":{span: 19},\"xxl\":{span: 19}}},[_c('div',{staticClass:\"right-container\"},[(_vm.dashboardLoading)?_c('a-spin',{staticClass:\"spin\",attrs:{\"tip\":\"仪表盘加载中……\"}}):[_vm._t(\"right-container\")]],2)])],1),_c('a-modal',{attrs:{\"title\":(\"新建\" + _vm.menuKey),\"visible\":_vm.visible,\"confirm-loading\":_vm.confirmLoading,\"destroyOnClose\":true},on:{\"ok\":_vm.handleOk,\"cancel\":function () {_vm.visible = false; _vm.form = {parentId: ''};}}},[_c('a-form-model',_vm._b({model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},'a-form-model',{\n      labelCol: { span: 6 },\n      wrapperCol: { span: 16 },\n    },false),[_c('a-form-model-item',{attrs:{\"label\":\"所属文件夹\"}},[_c('a-tree-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"dropdown-style\":{ maxHeight: '400px', overflow: 'auto' },\"tree-data\":_vm.selectedTreeData,\"tree-default-expand-all\":\"\"},model:{value:(_vm.form.parentId),callback:function ($$v) {_vm.$set(_vm.form, \"parentId\", $$v)},expression:\"form.parentId\"}})],1),_c('a-form-model-item',{attrs:{\"label\":(_vm.menuKey + \"名称\")}},[_c('a-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),(_vm.menuKey == '仪表盘')?_c('a-form-model-item',{attrs:{\"label\":(_vm.menuKey + \"备注\")}},[_c('a-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.remarks),callback:function ($$v) {_vm.$set(_vm.form, \"remarks\", $$v)},expression:\"form.remarks\"}})],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dashboard-container\">\n    <a-row type=\"flex\" justify=\"center\" align=\"top\" :gutter=\"16\">\n      <a-col :xs=\"{span: 7}\" :xl=\"{span: 5}\" :xxl=\"{span: 5}\">\n        <div class=\"catalogue-container\">\n          <div style=\"display: flex; justify-content: space-between\">\n            <a-input placeholder=\"过滤\" v-model=\"filterValue\" icon=\"FilterOutlined\">\n              <a-icon type=\"filter\" slot=\"suffix\" />\n            </a-input>\n            <a-dropdown :trigger=\"['click']\">\n              <a-menu slot=\"overlay\" @click=\"handleMenuClick\">\n                <a-menu-item key=\"文件夹\">\n                  <a-icon type=\"folder\" />创建文件夹\n                </a-menu-item>\n                <a-menu-item key=\"仪表盘\">\n                  <a-icon type=\"dashboard\" />创建仪表盘\n                </a-menu-item>\n              </a-menu>\n              <div>\n                <a-button\n                  type=\"link\"\n                  style=\"margin-left: 5px; color: #666; font-size: 16px;\"\n                  icon=\"plus\"\n                ></a-button>\n              </div>\n            </a-dropdown>\n          </div>\n          <div class=\"catalogue-tree\">\n            <a-tree\n              v-if=\"treeData.length > 0\"\n              show-icon\n              :tree-data=\"filteredTreeData\"\n              @expand=\"expandNode\"\n              @select=\"selectNode\"\n              :expandedKeys.sync=\"defaultExpandedKeys\"\n              :selectedKeys.sync=\"defaultSelectedKeys\"\n            >\n              <template slot-scope=\"{expanded}\" slot=\"folder\">\n                <a-icon\n                  class=\"tree-icon\"\n                  theme=\"outlined\"\n                  :type=\"expanded ? 'folder-open': 'folder'\"\n                ></a-icon>\n              </template>\n              <a-icon class=\"tree-icon\" theme=\"outlined\" :type=\"treeIcon\" :slot=\"item\" />\n              <template slot=\"title\" slot-scope=\"data\">\n                <a-tooltip\n                  v-if=\"!data.folder\"\n                  overlayClassName=\"tooltip\"\n                  placement=\"right\"\n                  :overlayStyle=\"{\n                'background': '#fff'\n              }\"\n                >\n                  <template slot=\"title\">\n                    <template v-if=\"item === 'dashboard'\">\n                      <div>名称：{{data.title}}</div>\n                      <div>备注：{{data.remarks}}</div>\n                    </template>\n                    <template v-if=\"item === 'workSheet'\">\n                      <div>名称：{{data.title}}</div>\n                      <div>原名：{{data.tableName}}</div>\n                      <div>描述：{{data.description}}</div>\n                    </template>\n                  </template>\n                  {{data.title}}\n                </a-tooltip>\n                <template v-else>{{data.title}}</template>\n              </template>\n            </a-tree>\n          </div>\n        </div>\n      </a-col>\n      <a-col :xs=\"{span: 17}\" :xl=\"{span: 19}\" :xxl=\"{span: 19}\">\n        <div class=\"right-container\">\n          <a-spin class=\"spin\" v-if=\"dashboardLoading\" tip=\"仪表盘加载中……\" />\n          <template v-else>\n            <slot name=\"right-container\"></slot>\n          </template>\n        </div>\n      </a-col>\n    </a-row>\n    <a-modal\n      :title=\"`新建${menuKey}`\"\n      :visible=\"visible\"\n      :confirm-loading=\"confirmLoading\"\n      :destroyOnClose=\"true\"\n      @ok=\"handleOk\"\n      @cancel=\"() => {visible = false; form = {parentId: ''};}\"\n    >\n      <a-form-model\n        v-model=\"form\"\n        v-bind=\"{\n        labelCol: { span: 6 },\n        wrapperCol: { span: 16 },\n      }\"\n      >\n        <a-form-model-item label=\"所属文件夹\">\n          <a-tree-select\n            v-model=\"form.parentId\"\n            style=\"width: 100%\"\n            :dropdown-style=\"{ maxHeight: '400px', overflow: 'auto' }\"\n            :tree-data=\"selectedTreeData\"\n            tree-default-expand-all\n          ></a-tree-select>\n        </a-form-model-item>\n        <a-form-model-item :label=\"`${menuKey}名称`\">\n          <a-input v-model=\"form.name\" />\n        </a-form-model-item>\n        <a-form-model-item v-if=\"menuKey == '仪表盘'\" :label=\"`${menuKey}备注`\">\n          <a-input type=\"textarea\" v-model=\"form.remarks\" />\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nfunction setLocal(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getLocal(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\n// function convert2Node(data) {\n//   const res = {\n//     title: data.name,\n//     ...data,\n//     key: \"node_\" + data.id,\n//     value: data.id,\n//     isLeaf: !data.folder || data.children.length === 0,\n//     children: data.children.map(c => convert2Node(c)),\n//     selectable: !data.folder\n//   };\n//   if (!data.folder) {\n//     res.scopedSlots = { icon: this.item, title: \"title\" };\n//   } else {\n//     res.scopedSlots = { icon: \"folder\", title: \"title\" };\n//   }\n//   return res;\n// }\n\nfunction selectTreeNode(nodes) {\n  return nodes\n    .filter(i => i.folder)\n    .map(i => {\n      return {\n        ...i,\n        selectable: true,\n        children: selectTreeNode(i.children)\n      };\n    });\n}\n\nfunction nodesAfterFilter(nodes, value) {\n  let res = [];\n  nodes.forEach(i => {\n    if (i.isLeaf) {\n      if (i.title.includes(value)) {\n        res.push(i);\n      }\n    } else {\n      const line = { ...i, children: nodesAfterFilter(i.children, value) };\n      if (line.children.length > 0) {\n        res.push(line);\n      }\n    }\n  });\n  return res;\n}\n\nexport default {\n  props: [\"item\"],\n  data() {\n    return {\n      treeData: [],\n      defaultExpandedKeys: [],\n      defaultSelectedKeys: [],\n      filterValue: \"\",\n      visible: false,\n      confirmLoading: false,\n      menuKey: \"\",\n      form: {\n        parentId: \"\"\n      },\n      dashboard: {},\n      dashboardLoading: true\n    };\n  },\n  created() {\n    this.init();\n  },\n  components: {},\n  computed: {\n    selectedKeysLocalKey() {\n      return `${this.item}_selectedKeys`;\n    },\n    expandedKeysLocalKey() {\n      return `${this.item}_expandedKeys`;\n    },\n    selectedRefIdKey() {\n      return `${this.item}_ref_id`;\n    },\n    filteredTreeData() {\n      return nodesAfterFilter(this.treeData, this.filterValue);\n    },\n    selectedTreeData() {\n      return selectTreeNode(this.treeData);\n    },\n    treeIcon() {\n      if (this.item === \"workSheet\") {\n        return \"table\";\n      }\n      return this.item;\n    }\n  },\n  methods: {\n    init() {\n      this.defaultSelectedKeys = getLocal(this.selectedKeysLocalKey);\n      this.defaultExpandedKeys = getLocal(this.expandedKeysLocalKey);\n      const selectedRefId = getLocal(this.selectedRefIdKey);\n      this.$axios.get(`/${this.item}/catalogue`).then(data => {\n        const newData = [\n          {\n            name: \"根目录\",\n            id: 0,\n            refId: 0,\n            folder: true,\n            children: data\n          }\n        ];\n        const treeData = newData.map(d => this.convert2Node(d));\n        this.treeData = treeData;\n        if (selectedRefId != null) {\n          this.chooseDashboard(selectedRefId);\n        } else {\n          this.dashboardLoading = false;\n        }\n      });\n    },\n    selectNode(selectedKeys, { node }) {\n      // TODO 取消反选\n      setLocal(this.selectedKeysLocalKey, selectedKeys);\n      this.selectedKeys = selectedKeys;\n      if (!node.dataRef.folder) {\n        setLocal(this.selectedRefIdKey, node.dataRef.refId);\n        if (!node.selected) {\n          this.chooseDashboard(node.dataRef.refId);\n        }\n      }\n    },\n    expandNode(expandedKeys) {\n      setLocal(this.expandedKeysLocalKey, expandedKeys);\n    },\n    handleMenuClick(e) {\n      this.menuKey = e.key;\n      this.visible = true;\n    },\n    chooseDashboard(id) {\n      this.dashboardLoading = true;\n      this.$emit(\"choose\", id);\n    },\n    loaded() {\n      this.dashboardLoading = false;\n    },\n    handleOk() {\n      if (this.form.parentId === \"\") {\n        this.$message.error(\"所属文件夹不能为空！\");\n        return;\n      }\n      let url = `/${this.item}`;\n      if (this.menuKey === \"文件夹\") {\n        url += \"/folder\";\n      }\n      this.confirmLoading = true;\n      this.$axios\n        .post(url, this.form)\n        .then(value => {\n          if (value) {\n            this.confirmLoading = false;\n            this.$message.success(`创建${this.menuKey}成功！`);\n            this.visible = false;\n\n            if (this.menuKey !== \"文件夹\") {\n              setLocal(this.selectedKeysLocalKey, [`node_${value.nodeId}`]);\n              setLocal(this.selectedRefIdKey, value.dashboardId);\n            }\n            this.defaultExpandedKeys.push(`node_${this.form.parentId}`);\n            setLocal(this.expandedKeysLocalKey, this.defaultExpandedKeys);\n\n            // this.addExandedkey(`node_${this.form.parentId}`);\n            this.init();\n          }\n        })\n        .catch(msg => {\n          console.log(msg);\n          this.confirmLoading = false;\n        });\n    },\n    convert2Node(data) {\n      const res = {\n        title: data.name,\n        ...data,\n        key: \"node_\" + data.id,\n        value: data.id,\n        isLeaf: !data.folder || data.children.length === 0,\n        children: data.children.map(c => this.convert2Node(c)),\n        selectable: !data.folder\n      };\n      if (!data.folder) {\n        res.scopedSlots = { icon: this.item, title: \"title\" };\n      } else {\n        res.scopedSlots = { icon: \"folder\", title: \"title\" };\n      }\n      return res;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n.dashboard-container {\n  background: #f6f6f6;\n  .catalogue-container {\n    width: 100%;\n    padding: 10px;\n    overflow: auto;\n    height: calc(100vh - 94px);\n    border: 1px solid #e6e6e6;\n    background: #fff;\n    box-shadow: 0 2px 4px rgba(0, 21, 41, 0.08);\n    // box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 16px 24px 0 rgba(0, 0, 0, 0.1);\n    .tree-icon {\n      color: #4876ff;\n      margin-right: 5px;\n    }\n    .tooltip {\n      // background: #fff;\n      color: red;\n    }\n  }\n  .right-container {\n    // padding: 20px;\n    // border: 1px solid #e6e6e6;\n    width: 100%;\n    height: calc(100vh - 95px);\n    // background: #fff;\n    overflow: auto;\n    .spin {\n      text-align: center;\n      margin: 100px 0;\n      width: 100%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./catalogue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./catalogue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./catalogue.vue?vue&type=template&id=27473a4d&\"\nimport script from \"./catalogue.vue?vue&type=script&lang=js&\"\nexport * from \"./catalogue.vue?vue&type=script&lang=js&\"\nimport style0 from \"./catalogue.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./catalogue.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./catalogue.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('catalogue',{ref:\"catRef\",attrs:{\"item\":\"workSheet\"},on:{\"choose\":_vm.chooseWorkSheet}},[_c('template',{slot:\"right-container\"},[(_vm.workSheet)?_c('work-sheet-detail',{attrs:{\"data\":_vm.workSheet}}):_vm._e()],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"work-sheet-detail-container\"},[_c('div',{staticClass:\"work-sheet-header\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.data.title)+\" \"),_c('div',{staticClass:\"description\"},[_vm._v(_vm._s(_vm.data.description || '该表没有描述，赶紧加上'))])]),_c('div',{staticClass:\"button-list\"},[_c('a-button',{attrs:{\"icon\":\"bar-chart\"}},[_vm._v(\"新建图表\")]),_c('a-button',{attrs:{\"icon\":\"file-excel\"}},[_vm._v(\"上传数据\")]),_c('a-button',{attrs:{\"icon\":\"share-alt\"}},[_vm._v(\"创建合表\")])],1)]),_c('a-tabs',{staticClass:\"tabs\",attrs:{\"default-active-key\":\"1\"},on:{\"change\":_vm.chooseTab}},[_c('a-tab-pane',{key:\"1\",attrs:{\"tab\":\"数据预览\"}},[_c('preview',{attrs:{\"work-sheet\":_vm.data}})],1),_c('a-tab-pane',{key:\"2\",attrs:{\"tab\":\"字段设置\",\"force-render\":\"\"}},[_c('field-list',{attrs:{\"data\":_vm.data.fields}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-table',{attrs:{\"pagination\":false,\"size\":\"small\",\"data-source\":_vm.fieldsData,\"columns\":_vm.columns}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <a-table :pagination=\"false\" size=\"small\" :data-source=\"fieldsData\" :columns=\"columns\"></a-table>\n  </div>\n</template>\n\n<script>\nconst columns = [\n  {\n    title: \"行数\",\n    dataIndex: \"seqNo\"\n  },\n  {\n    title: \"原字段名\",\n    dataIndex: \"name\"\n  },\n  {\n    title: \"新字段名\",\n    dataIndex: \"title\"\n  },\n  {\n    title: \"字段类型\",\n    dataIndex: \"type\",\n    scopedSlots: { customRender: \"type\" }\n  },\n  {\n    title: \"字段描述\",\n    dataIndex: \"remarks\"\n  }\n];\nexport default {\n  props: [\"data\"],\n  data() {\n    return {\n      columns\n    };\n  },\n  computed: {\n    fieldsData() {\n      return this.data.filter(i=>i.fieldType === 'origin')\n    }\n  }\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fieldList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fieldList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fieldList.vue?vue&type=template&id=374e91a3&\"\nimport script from \"./fieldList.vue?vue&type=script&lang=js&\"\nexport * from \"./fieldList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"work-sheet-detail-container\">\n    <div class=\"work-sheet-header\">\n      <div class=\"title\">\n        {{data.title}}\n        <div class=\"description\">{{data.description || '该表没有描述，赶紧加上'}}</div>\n      </div>\n      <div class=\"button-list\">\n        <a-button icon=\"bar-chart\">新建图表</a-button>\n        <a-button icon=\"file-excel\">上传数据</a-button>\n        <a-button icon=\"share-alt\">创建合表</a-button>\n      </div>\n    </div>\n    <a-tabs class=\"tabs\" default-active-key=\"1\" @change=\"chooseTab\">\n      <a-tab-pane key=\"1\" tab=\"数据预览\">\n        <preview :work-sheet=\"data\" />\n      </a-tab-pane>\n      <a-tab-pane key=\"2\" tab=\"字段设置\" force-render>\n        <field-list :data=\"data.fields\" />\n      </a-tab-pane>\n    </a-tabs>\n  </div>\n</template>\n\n<script>\nimport Preview from \"../../components/preview\";\nimport FieldList from \"./fieldList\";\nexport default {\n  props: [\"data\"],\n  data() {\n    return {\n      tabKey: 1\n    };\n  },\n  components: {\n    FieldList,\n    Preview\n  },\n  methods: {\n    chooseTab() {}\n  }\n};\n</script>\n\n<style lang=\"less\">\n.work-sheet-detail-container {\n  padding: 20px;\n  background: #fff;\n  border: 1px solid #e6e6e6;\n  .work-sheet-header {\n    display: flex;\n    justify-content: space-between;\n    padding: 0 10px;\n    .title {\n      font-size: 28px;\n      color: #4876ff;\n      .description {\n        font-size: 14px;\n        color: #777;\n      }\n    }\n    button {\n      margin-left: -1px;\n    }\n  }\n  .tabs {\n    margin-top: 10px;\n    padding: 0 0px;\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a1c2b8c8&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <catalogue item=\"workSheet\" @choose=\"chooseWorkSheet\" ref=\"catRef\">\n      <template slot=\"right-container\">\n        <work-sheet-detail v-if=\"workSheet\" :data=\"workSheet\" />\n      </template>\n    </catalogue>\n  </div>\n</template>\n\n<script>\nimport Catalogue from \"../components/catalogue\";\nimport WorkSheetDetail from \"./detail/index\";\nexport default {\n  data() {\n    return {\n      workSheet: null\n    };\n  },\n  components: {\n    Catalogue,\n    WorkSheetDetail\n  },\n  methods: {\n    chooseWorkSheet(id) {\n      this.$axios.get(`/workSheet?id=${id}`).then(data => {\n        this.workSheet = data;\n        this.$refs.catRef.loaded();\n      });\n    }\n  }\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6a7fee8e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./preview.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./preview.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}